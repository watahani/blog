<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="WebAuthn もくもく会実は土曜日に WebAuthnもくもく会 というものを企画して、来ていただいた2人と議論したり、各自もくもくしたりしてました。">
<meta property="og:type" content="article">
<meta property="og:title" content="WebAuthn もくもく会を開催しました">
<meta property="og:url" content="http://blog.haniyama.com/2018/07/23/fido-webauthn-mokumoku/index.html">
<meta property="og:site_name" content="enjoy struggling">
<meta property="og:description" content="WebAuthn もくもく会実は土曜日に WebAuthnもくもく会 というものを企画して、来ていただいた2人と議論したり、各自もくもくしたりしてました。">
<meta property="og:locale">
<meta property="article:published_time" content="2018-07-22T17:04:23.000Z">
<meta property="article:modified_time" content="2022-05-18T13:45:29.057Z">
<meta property="article:author" content="watahani">
<meta property="article:tag" content="WebAuthn">
<meta property="article:tag" content="FIDO">
<meta property="article:tag" content="勉強会">
<meta property="article:tag" content="CTAP">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@watahani"><meta name="description"><meta name="keywords" content="Java, Javascript, AWS, GCP, PGP"><link rel="alternate" type="application/atom+xml" href="/atom.xml" title="enjoy struggling"><title>WebAuthn もくもく会を開催しました - enjoy struggling</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.png"><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-113476970-1', 'auto');ga('send', 'pageview');</script><meta name="generator" content="Hexo 6.3.0"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a target="_blank" rel="noopener" href="https://github.com/watahani"><span>Github</span></a></li><li><a target="_blank" rel="noopener" href="https://qiita.com/watahani"><span>Qiita</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><link rel="amphtml" href="./amp/index.html"><label class="navi-button light" for="navi">MENU</label><img class="background" src="https://storage.googleapis.com/blog-haniyama/background-min.png"><div class="post-title"><h1 class="title">WebAuthn もくもく会を開催しました</h1><ul class="meta"><li><i class="icon icon-author"></i>watahani</li><li><i class="icon icon-clock"></i>24 Minutes</li><li><i class="icon icon-calendar"></i>July 23, 2018</li></ul></div></div><div class="article-content" style="max-width:800px"><h1 id="WebAuthn-もくもく会"><a href="#WebAuthn-もくもく会" class="headerlink" title="WebAuthn もくもく会"></a>WebAuthn もくもく会</h1><p>実は土曜日に <a target="_blank" rel="noopener" href="https://fido2-workshop.connpass.com/event/95298/">WebAuthnもくもく会</a> というものを企画して、来ていただいた2人と議論したり、各自もくもくしたりしてました。</p>
<span id="more"></span>

<p>当日なんだかんだで色々とお話ができたので、忘れないうちに話したことをまとめようとこのブログを書き始めました。</p>
<hr>
<!-- toc -->

<hr>
<h2 id="なんで突発的にもくもく会企画したのか"><a href="#なんで突発的にもくもく会企画したのか" class="headerlink" title="なんで突発的にもくもく会企画したのか"></a>なんで突発的にもくもく会企画したのか</h2><p>最近仕事で FIDOまわりをさわる時間がなかったこと、いろいろと<strong>フラストレーション</strong>がたまってたこと。<strong>なんかやってやるぞという気持ちになった</strong>ことなど…</p>
<p>よくわからないことが重なり、一人でもいいからと思いつつ、<a target="_blank" rel="noopener" href="https://fido2-workshop.connpass.com/event/95298/">コッソリ connpass にイベント張ってみた</a>ところ、なんと参加してくださった人がいて、圧倒的感謝以外ありえない。</p>
<p>先に言いたいことを言っておくと、 FIDO 周りの技術的な議論って足りていないと思っていて、例えば</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://builderscon.io/tokyo/2018/session/9f0ac19c-0367-4307-a3d4-e5431d80267e">既存サービスへののデプロイの方法</a>だとか</li>
<li>Authenticator ロストしたときの復旧方法だとか</li>
<li>Federation サービスとの連携だとか（FAPIでは議論されてるけど、IDサービス系とかEnterpriseだとかの標準とか）</li>
</ul>
<p>みたいなこと。</p>
<p>今回は  <strong>もくもく会</strong> ですので、作業中心でしたけれども、雑談交じりに議論できたこともあったのでまとめてみます。</p>
<h2 id="FIDO-関連で、今なにが動くか的なこと"><a href="#FIDO-関連で、今なにが動くか的なこと" class="headerlink" title="FIDO 関連で、今なにが動くか的なこと"></a>FIDO 関連で、今なにが動くか的なこと</h2><p><a target="_blank" rel="noopener" href="https://qiita.com/82p/items/37eb6ab387d216003829">YubiKey Android に刺したらU2Fは動くよ</a>って話をさせてもらった。意外と知られてなかったので少し悲しい。</p>
<p>代わりに @shiroica さんに Android Chrome の WebAuthn 先々週動いてたのに動かんくなってることを教えてもらった。</p>
<blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="en" dir="ltr"><a target="_blank" rel="noopener" href="https://twitter.com/apowers313?ref_src=twsrc%5Etfw">@apowers313</a> Chrome Canary support webauthn! <a target="_blank" rel="noopener" href="https://t.co/Yiu1qrRR3w">pic.twitter.com/Yiu1qrRR3w</a></p>&mdash; 82@BLE LE (@watahani) <a target="_blank" rel="noopener" href="https://twitter.com/watahani/status/1017321764722900993?ref_src=twsrc%5Etfw">July 12, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote>
<p>先々週は動いてた図</p>
</blockquote>
<p>試してみると、ほんとに動かんくなってました。なんか問題があったんだろうか。</p>
<p>ところでそもそも <code>Android SafteyNet Attestation</code> ってなんだっけ？</p>
<h2 id="Attestation-チェックしなければマジ簡単"><a href="#Attestation-チェックしなければマジ簡単" class="headerlink" title="Attestation チェックしなければマジ簡単"></a>Attestation チェックしなければマジ簡単</h2><p>Attestation の話になったとき、WebAuthn って Attestation チェックしなければマジ簡単に実装出来るよねという話に。</p>
<p>Extensions も無視すれば、マジで簡単なので今度のもくもく会では Most Simple WebAuthn Server を立てるのをしてみようかな～と、思いました。</p>
<p>で、実際今から WebAuthn 学び始める人は、最初 Attestation 無視してサーバー立ててみるのがいいんじゃないかーみたいな話をしてました。</p>
<p>順番的には多分以下の順で理解していくと、全体像がつかみやすいと思います。</p>
<ol>
<li>Public Key の登録と認証(MUST)</li>
<li>Attestation チェック(MAY)</li>
<li>Extensions (MAY)</li>
</ol>
<h2 id="Extensions-について"><a href="#Extensions-について" class="headerlink" title="Extensions について"></a>Extensions について</h2><p>これはイマイチ私が分かってなかったので教えてもらいました。</p>
<p>大前提として Extensions は今のところ、以下の種類があること（たぶん）。</p>
<ul>
<li>FIDO AppID Extension (appid)</li>
<li>Simple Transaction Authorization Extension (txAuthSimple)</li>
<li>Generic Transaction Authorization Extension (txAuthGeneric)</li>
<li>Authenticator Selection Extension (authnSel)</li>
<li>Supported Extensions Extension (exts)</li>
<li>User Verification Index Extension (uvi)</li>
<li>Location Extension (loc)</li>
<li>User Verification Method Extension (uvm)</li>
<li>Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</li>
</ul>
<p>Authenticator が返す Extensions は Authenticator の署名がつくが、Client が返す Extensions は署名が付かず、<code>credentials.create()</code> や <code>credentials.get()</code> の戻り値に含まれる <code>getClientExtensionResults</code> メソッドで取得できること。</p>
<p>ほとんどの Extensions は Authenticator 側でも Client 側でも実装して良さそうだとこと。</p>
<p>ということは Location Extensions なんかは Authenticator が返してもいいし、 Client が返しても良い。その場合は、署名が付いてる Authenticator 側のを優先するのかなぁ？</p>
<p>で、そんな話をしていると Location Extension を Authenticator が返すときってあるんですかね？という話になって</p>
<p>スマホがAuthenticatorになるときとかじゃないですか？ って話になりました。</p>
<h2 id="スマホがCTAP対応した-Authenticator-になる事について"><a href="#スマホがCTAP対応した-Authenticator-になる事について" class="headerlink" title="スマホがCTAP対応した Authenticator になる事について"></a>スマホがCTAP対応した Authenticator になる事について</h2><p>まずは CTAP 実装するのは大変だよねという話になりました。</p>
<p>まぁ、BLE や NFC の Low Level な実装をしなければならないので、そりゃ大変だろうね。</p>
<p>スマホが CTAP 対応して PC や他のスマホの Registration できるようになるのが理想だよね、ってのは大体みんな同意していたように思います。</p>
<p>つまりは、 PC ログインするときに スマホが FIDO 対応の Authenticator になって、CTAP で PC と通信（BLE or NFC）して、 YubiKey みたいな外部 Authenticator として動けばいいよねって話。</p>
<p>ただ、実際のユースケース次第では FIDO2 の Internal Authenticator として動けば十分だとも思ったり、Internal Authenticator や UAF としても動くし、 外部 Authenticator としても動くような Client 作れないかなあ（Google 先生が作ってくれないかなあ）みたいな、夢の話もしてました。</p>
<h2 id="Server-Requirements-and-Transport-Binding-Profile-なる文書について"><a href="#Server-Requirements-and-Transport-Binding-Profile-なる文書について" class="headerlink" title="Server Requirements and Transport Binding Profile なる文書について"></a>Server Requirements and Transport Binding Profile なる文書について</h2><blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="ja" dir="ltr">冒頭 &quot;These authenticators are expected to communicate to servers that will validate registration and authentication requests.&quot; って書いてあるけど、serverがvalidateするのはresponseじゃないのか？ <a target="_blank" rel="noopener" href="https://t.co/gunRPjk2b6">https://t.co/gunRPjk2b6</a></p>&mdash; nov matake (@nov) <a target="_blank" rel="noopener" href="https://twitter.com/nov/status/1020162149665058816?ref_src=twsrc%5Etfw">July 20, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote>
<p>金曜に @nov さんが読んでいた文書</p>
</blockquote>
<p>これ、普通に WebAuthn のスペックの話だと思ったら、<a target="_blank" rel="noopener" href="https://fidoalliance.org/specs/fido-v2.0-rd-20180702/fido-server-v2.0-rd-20180702.html">Server Requirements and Transport Binding Profile</a> なる謎の文章でした。</p>
<p>タイポが多いこともさることながら、 Attestation のチェックが MUST だったり、</p>
<blockquote>
<p>[[!WebAuthn#sctn-attestation-types]] defines multiple Attestation Types. A server MUST support one of the attestation formats.<br>Servers MUST support basic attestation</p>
<p>Servers MUST support self attestation</p>
<p>Servers MAY support Privacy CA attestation</p>
<p>Servers MAY support Elliptic Curve Direct Anonymous Attestation (ECDAA)</p>
</blockquote>
<p>!??</p>
<p>えらい具体的なレスポンスメッセージがあったり</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://fidoalliance.org/specs/fido-v2.0-rd-20180702/fido-server-v2.0-rd-20180702.html#examples">7.3.2. Examples</a><br>…略<br>Success Response:</p>
<p>HTTP Status Code: 200 OK</p>
<p>Body: application&#x2F;json formatted ServerPublicKeyCredentialCreationOptionsResponse</p>
</blockquote>
<pre class="language-js" style="" tabindex="0"><code id="7fa0ce3e" class="language-js" data-prism-hydrate="{&quot;element&quot;:&quot;7fa0ce3e&quot;,&quot;language&quot;:&quot;js&quot;,&quot;code&quot;:&quot;\n    {\n        \&quot;status\&quot;: \&quot;ok\&quot;,\n        \&quot;errorMessage\&quot;: \&quot;\&quot;,\n        \&quot;rp\&quot;: {\n            \&quot;name\&quot;: \&quot;Example Corporation\&quot;\n        },\n        \&quot;user\&quot;: {\n            \&quot;id\&quot;: \&quot;S3932ee31vKEC0JtJMIQ\&quot;,\n            \&quot;name\&quot;: \&quot;johndoe@example.com\&quot;,\n            \&quot;displayName\&quot;: \&quot;John Doe\&quot;\n        },\n\n        \&quot;challenge\&quot;: \&quot;uhUjPNlZfvn7onwuhNdsLPkkE5Fv-lUN\&quot;,\n        \&quot;pubKeyCredParams\&quot;: [\n            {\n                \&quot;type\&quot;: \&quot;public-key\&quot;,\n                \&quot;alg\&quot;: -7\n            }\n        ],\n        \&quot;timeout\&quot;: 10000,\n        \&quot;excludeCredentials\&quot;: [\n            {\n                \&quot;type\&quot;: \&quot;public-key\&quot;,\n                \&quot;id\&quot;: \&quot;opQf1WmYAa5aupUKJIQp\&quot;\n            }\n        ],\n        \&quot;authenticatorSelection\&quot;: {\n            \&quot;residentKey\&quot;: false,\n            \&quot;authenticatorAttachment\&quot;: \&quot;cross-platform\&quot;,\n            \&quot;userVerification\&quot;: \&quot;preferred\&quot;\n        },\n        \&quot;attestation\&quot;: \&quot;direct\&quot;\n    }\n&quot;,&quot;highlightedCode&quot;:&quot;\n    \u003cspan class=\&quot;token punctuation\&quot;\u003e{</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;status\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;ok\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;errorMessage\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;rp\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token punctuation\&quot;>{</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;name\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;Example Corporation\&quot;</span>\n        <span class=\&quot;token punctuation\&quot;>}</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;user\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token punctuation\&quot;>{</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;id\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;S3932ee31vKEC0JtJMIQ\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;name\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;johndoe@example.com\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;displayName\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;John Doe\&quot;</span>\n        <span class=\&quot;token punctuation\&quot;>}</span><span class=\&quot;token punctuation\&quot;>,</span>\n\n        <span class=\&quot;token string-property property\&quot;>\&quot;challenge\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;uhUjPNlZfvn7onwuhNdsLPkkE5Fv-lUN\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;pubKeyCredParams\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token punctuation\&quot;>[</span>\n            <span class=\&quot;token punctuation\&quot;>{</span>\n                <span class=\&quot;token string-property property\&quot;>\&quot;type\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;public-key\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n                <span class=\&quot;token string-property property\&quot;>\&quot;alg\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token operator\&quot;>-</span><span class=\&quot;token number\&quot;>7</span>\n            <span class=\&quot;token punctuation\&quot;>}</span>\n        <span class=\&quot;token punctuation\&quot;>]</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;timeout\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token number\&quot;>10000</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;excludeCredentials\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token punctuation\&quot;>[</span>\n            <span class=\&quot;token punctuation\&quot;>{</span>\n                <span class=\&quot;token string-property property\&quot;>\&quot;type\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;public-key\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n                <span class=\&quot;token string-property property\&quot;>\&quot;id\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;opQf1WmYAa5aupUKJIQp\&quot;</span>\n            <span class=\&quot;token punctuation\&quot;>}</span>\n        <span class=\&quot;token punctuation\&quot;>]</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;authenticatorSelection\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token punctuation\&quot;>{</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;residentKey\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token boolean\&quot;>false</span><span class=\&quot;token punctuation\&quot;>,</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;authenticatorAttachment\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;cross-platform\&quot;</span><span class=\&quot;token punctuation\&quot;>,</span>\n            <span class=\&quot;token string-property property\&quot;>\&quot;userVerification\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;preferred\&quot;</span>\n        <span class=\&quot;token punctuation\&quot;>}</span><span class=\&quot;token punctuation\&quot;>,</span>\n        <span class=\&quot;token string-property property\&quot;>\&quot;attestation\&quot;</span><span class=\&quot;token operator\&quot;>:</span> <span class=\&quot;token string\&quot;>\&quot;direct\&quot;</span>\n    <span class=\&quot;token punctuation\&quot;>}</span>\n&quot;}">
    <span class="token punctuation">{</span>
        <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"errorMessage"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"rp"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Example Corporation"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"S3932ee31vKEC0JtJMIQ"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"johndoe@example.com"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"John Doe"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token string-property property">"challenge"</span><span class="token operator">:</span> <span class="token string">"uhUjPNlZfvn7onwuhNdsLPkkE5Fv-lUN"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"pubKeyCredParams"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"public-key"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"alg"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">7</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"timeout"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        <span class="token string-property property">"excludeCredentials"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"public-key"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"opQf1WmYAa5aupUKJIQp"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"authenticatorSelection"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">"residentKey"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token string-property property">"authenticatorAttachment"</span><span class="token operator">:</span> <span class="token string">"cross-platform"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"userVerification"</span><span class="token operator">:</span> <span class="token string">"preferred"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"attestation"</span><span class="token operator">:</span> <span class="token string">"direct"</span>
    <span class="token punctuation">}</span>
</code></pre>

<p>私がナナメ読みした結果</p>
<blockquote>
<p>This document contains a non-normative, proposed REST API for FIDO2 servers. While this interface is not required, it is the interface that is used for the FIDO2 conformance test tools so that servers can receive and send messages in a standard way for those messages to be validated by the conformance test tools.</p>
</blockquote>
<p><code>that is used for the FIDO2 conformance test tools</code> って書いてあるんで、来たる <a target="_blank" rel="noopener" href="https://fidoalliance.org/certification/interoperability-testing/">FIDO2 の Interoperability Testing</a> に向けた文書っぽいねって話でまとまりました。</p>
<p>タブンネ</p>
<h2 id="もくもく会でやったこと"><a href="#もくもく会でやったこと" class="headerlink" title="もくもく会でやったこと"></a>もくもく会でやったこと</h2><p>私以外の2人は KeyCloak の WebAuthn プラグインを作ったり U2F プラグインを試したりしていました。</p>
<blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="ja" dir="ltr">とりあえずKeycloakのRequiredActionからyubikeyのLチカをWebAuthnで出来たので今日は良しとしよう。</p>&mdash; shiroica (@shiroica) <a target="_blank" rel="noopener" href="https://twitter.com/shiroica/status/1020593961960812544?ref_src=twsrc%5Etfw">July 21, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="ja" dir="ltr">https対応していないとU2fBadConfigrationExceptionが投げられるっぽいな...<br>週末にやるか...<a target="_blank" rel="noopener" href="https://t.co/rttjyn4VGA">https://t.co/rttjyn4VGA</a></p>&mdash; 56 (@kg0r0) <a target="_blank" rel="noopener" href="https://twitter.com/kg0r0/status/1019976870727593984?ref_src=twsrc%5Etfw">July 19, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>私はというと、流されて KeyCloak をインストールして動かしてみたり、Yubico の ツールを <a href="/2018/03/12/scoop-bucket/">scoop bucket</a> に追加しようとしたり、 <strong>人生相談</strong> をしたり…と</p>
<blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="ja" dir="ltr">人生相談会からの keycloak会 <a target="_blank" rel="noopener" href="https://twitter.com/hashtag/webauthn%E3%82%82%E3%81%8F%E3%82%82%E3%81%8F%E4%BC%9A?src=hash&amp;ref_src=twsrc%5Etfw">#webauthnもくもく会</a></p>&mdash; 82@BLE LE (@watahani) <a target="_blank" rel="noopener" href="https://twitter.com/watahani/status/1020556292941680641?ref_src=twsrc%5Etfw">July 21, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>WebAuthn 周りのことは <a target="_blank" rel="noopener" href="https://fidoalliance.org/specs/fido-v2.0-rd-20180702/fido-server-v2.0-rd-20180702.html">Server Requirements and Transport Binding Profile</a> をパラパラナナメ読みするだけで終わって、作業自体はあまり進みませんでした。</p>
<h2 id="所感"><a href="#所感" class="headerlink" title="所感"></a>所感</h2><p>もくもく作業が進まなかったのは反省ですが、先に書いた通り色々な意見交換や議論ができたことで、全体的には大満足でした。</p>
<p>冒頭に書いた</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://builderscon.io/tokyo/2018/session/9f0ac19c-0367-4307-a3d4-e5431d80267e">既存サービスへののデプロイの方法</a>だとか</li>
<li>Authenticator ロストしたときの復旧方法だとか</li>
<li>Federation サービスとの連携だとか（FAPIでは議論されてるけど、IDサービス系とかEnterpriseだとかの標準とか）</li>
</ul>
<p>といった話だとか</p>
<ul>
<li>FIDO2 と U2F, UAF の関係</li>
<li>Resident Key の扱い方法（急に出てきたな）</li>
</ul>
<p>みたいな話も今後、議論できるようにしていきたいですね。</p>
<p>ところで、今回の勉強会は、<strong>Yahoo! JAPAN オフィスの <a target="_blank" rel="noopener" href="https://lodge.yahoo.co.jp/">LODGE</a></strong> という 7&#x2F;20 現在フリーで使えるコワーキングスペースで行ったのですが、<del>隣の席と後ろの席とで、怪しいセミナーや振り込みが必要な塾生への勧誘が行われていたこと以外は</del> とても素晴らしい場所でした。</p>
<p>また利用しようと思います！（なくならないでくれー）</p>
<h2 id="最後に"><a href="#最後に" class="headerlink" title="最後に"></a>最後に</h2><p>今週末は色々充実した二日間でした。</p>
<p>日曜日、朝からカラオケに行き、<a target="_blank" rel="noopener" href="https://jellyjellycafe.com/shoplist/yokohama">横浜のボードゲームカフェ</a>に行った後に、<a target="_blank" rel="noopener" href="http://www.yellowsubmarine.co.jp/shop/shop-006.htm">YELLOW SUBMARINE</a> で <a target="_blank" rel="noopener" href="https://twitter.com/watahani/status/1021022101937926144">気になったボドゲ</a> 買って、友人宅で遊ぶというコンボを決めて、夜中11時前、終電間際の電車に乗りながらこのブログを書いてます。</p>
<p><strong>かなり酔っ払って</strong>書いてるので何か不備やマチガイがある可能性があります。ご了承ください。</p>
<div class="related-post"><h3>関連記事</h3><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2018\06\17\edge-support-webauthn\" title="Edge が WebAuthN をサポートしたらしいので色々試してみた(Insider Preview)" rel="bookmark">Edge が WebAuthN をサポートしたらしいので色々試してみた(Insider Preview)</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2018\11\19\webauthn-attestation\" title="WebAuthn の Attestation" rel="bookmark">WebAuthn の Attestation</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2018\10\08\fidcon-201810\" title="fidcon 勝手に meet up! 振り返り" rel="bookmark">fidcon 勝手に meet up! 振り返り</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2018\08\19\gitbook-pdf\" title="Gitbook で 日本語 PDF 環境作成" rel="bookmark">Gitbook で 日本語 PDF 環境作成</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="\2018\09\28\ms-ignite-2018\" title="雑感 Microsoft Ignite What's new for Windows Hello for Business" rel="bookmark">雑感 Microsoft Ignite What's new for Windows Hello for Business</a></h3></div></li></ul></div></div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CTAP/" rel="tag">CTAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FIDO/" rel="tag">FIDO</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebAuthn/" rel="tag">WebAuthn</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8B%89%E5%BC%B7%E4%BC%9A/" rel="tag">勉強会</a><span class="tag-list-count">1</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2018/08/19/gitbook-pdf/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2018/07/01/use-capi-with-yubikey/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/82p" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="https://twitter.com/watahani" title="Twitter" target="_blank"><i class="icon icon-twitter"></i></a></li><li><a href="https://www.facebook.com/haniyama.wataru" title="Facebook" target="_blank"><i class="icon icon-facebook"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2024 enjoy struggling<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>